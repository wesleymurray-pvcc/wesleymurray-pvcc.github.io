!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Paddle=e():t.Paddle=e()}(self,(function(){return function(){"use strict";var t,e,n,o,r,i,a,d,s,c={d:function(t,e){for(var n in e)c.o(e,n)&&!c.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}},l={};c.d(l,{default:function(){return Ft}}),function(t){t.OVERLAY="overlay",t.INLINE="inline"}(t||(t={})),function(t){t.PRODUCTION="production",t.STAGING="staging",t.SANDBOX="sandbox",t.DEVELOPMENT="development",t.LOCAL="local"}(e||(e={})),function(t){t.LIGHT="light",t.DARK="dark",t.GREEN="green"}(n||(n={})),function(t){t.WARNING="warning",t.LOG="log",t.ERROR="error"}(o||(o={})),function(t){t.PAYMENT_RECOVERY="paymentRecovery",t.PAYMENT_RECOVERY_IN_APP="paymentRecoveryInApp",t.TERM_OPTIMIZATION="termOptimization",t.TERM_OPTIMIZATION_IN_APP="termOptimizationInApp",t.CANCELLATION_FLOW="cancellationFlow"}(r||(r={})),function(t){t.error="error",t.aborted="aborted",t.choseToCancel="chose_to_cancel",t.retained="retained"}(i||(i={}));var u,p,m,f=((a={})[e.PRODUCTION]="https://cdn.paddle.com/paddle/v2/assets/css",a[e.SANDBOX]="https://sandbox-cdn.paddle.com/paddle/v2/assets/css",a[e.STAGING]="https://staging-cdn.paddle.dev/paddle/v2/assets/css",a[e.DEVELOPMENT]="https://development-cdn.paddle.dev/paddle/v2/assets/css",a[e.LOCAL]="assets/css",a),h=((d={})[e.PRODUCTION]="https://cdn.paddle.com/paddle/v2/assets/images",d[e.SANDBOX]="https://sandbox-cdn.paddle.com/paddle/v2/assets/images",d[e.STAGING]="https://staging-cdn.paddle.dev/paddle/v2/assets/images",d[e.DEVELOPMENT]="https://development-cdn.paddle.dev/paddle/v2/assets/images",d[e.LOCAL]="assets/images",d),v=((s={})[e.PRODUCTION]="https://cdn.paddle.com/paddle/v2/error.html",s[e.SANDBOX]="https://sandbox-cdn.paddle.com/paddle/v2/error.html",s[e.STAGING]="https://staging-cdn.paddle.dev/paddle/v2/error.html",s[e.DEVELOPMENT]="https://development-cdn.paddle.dev/v2/paddle/error.html",s[e.LOCAL]="http://localhost:8081/error.html",s),g=function(t){var n=Object.values(e).indexOf(t)>-1?t:e.PRODUCTION;return{PADDLE_CSS_FILE:f[n]+"/paddle.css",VENDORS_URL:"https://vendors.paddle.com/download/product/",HEALTH_CHECK_GIF:h[n]+"/health-check.gif"}},y={checkoutBase:"https://local-buy.paddle.com/product/",checkoutFrontEndBase:"https://local-buy.paddle.com",profitwellSnippetBase:"http://www2.profitwell-local.com/dotjs-client/main/profitwell.js",apiBase:"https://api.paddle.local"},w={checkoutBase:"https://development-create-checkout.paddle.dev/checkout/product/",checkoutFrontEndBase:"https://development-buy.paddle.dev",profitwellSnippetBase:"https://public.profitwell.com/js/profitwell.js",apiBase:"https://development-api.paddle.dev"},_={checkoutBase:"https://staging-create-checkout.paddle.dev/checkout/product/",checkoutFrontEndBase:"https://staging-buy.paddle.dev",profitwellSnippetBase:"https://public.profitwell.com/js/profitwell.js",apiBase:"https://staging-api.paddle.dev"},b={checkoutBase:"https://sandbox-create-checkout.paddle.com/checkout/product/",checkoutFrontEndBase:"https://sandbox-buy.paddle.com",profitwellSnippetBase:"https://public.profitwell.com/js/profitwell.js",apiBase:"https://sandbox-api.paddle.com"},A={checkoutBase:"https://create-checkout.paddle.com/checkout/product/",checkoutFrontEndBase:"https://buy.paddle.com",profitwellSnippetBase:"https://public.profitwell.com/js/profitwell.js",apiBase:"https://api.paddle.com"};!function(t){t.PADDLE_BUTTON="paddle_button",t.PADDLE_FRAME="paddle-frame",t.PADDLE_LOADER="paddle-loader",t.PADDLE_FRAME_INLINE="paddle-frame-inline",t.PADDLE_FRAME_OVERLAY="paddle-frame-overlay",t.PADDLE_STYLED_BUTTON="paddle_styled_button",t.GREEN="green",t.LIGHT="light",t.DARK="dark"}(u||(u={})),function(t){t.PADDLE_ENVIRONMENT="paddle_env",t.PADDLE_TRANSACTION="_ptxn"}(p||(p={})),function(t){t.DATA_INIT="data-init",t.DATA_DISCOUNT_ID="data-discount-id",t.DATA_DISCOUNT_CODE="data-discount-code",t.DATA_TRANSACTION_ID="data-transaction-id",t.DATA_ITEMS="data-items",t.DATA_CUSTOMER_ID="data-customer-id",t.DATA_CUSTOMER_EMAIL="data-customer-email",t.DATA_CUSTOMER_ADDRESS_ID="data-customer-address-id",t.DATA_CUSTOMER_ADDRESS_COUNTRY_CODE="data-customer-address-country-code",t.DATA_CUSTOMER_ADDRESS_POSTAL_CODE="data-customer-address-postal-code",t.DATA_BUSINESS_NAME="data-business-name",t.DATA_BUSINESS_ID="data-business-id",t.DATA_BUSINESS_TAX_ID="data-business-tax-id",t.DATA_CUSTOMER_ADDRESS_FIRST_LINE="data-customer-address-first-line",t.DATA_CUSTOMER_ADDRESS_CITY="data-customer-address-city",t.DATA_CUSTOMER_ADDRESS_REGION="data-customer-address-region",t.DATA_CUSTOM_DATA="data-custom-data",t.DATA_LOCALE="data-locale",t.DATA_DISPLAY_MODE="data-display-mode",t.DATA_THEME="data-theme",t.DATA_SHOW_ADD_DISCOUNTS="data-show-add-discounts",t.DATA_SHOW_ADD_TAX_ID="data-show-add-tax-id",t.DATA_SUCCESS_URL="data-success-url",t.DATA_ALLOW_LOGOUT="data-allow-logout",t.DATA_SOURCE_PAGE="data-source-page",t.DATA_ALLOWED_PAYMENT_METHODS="data-allowed-payment-methods"}(m||(m={}));var E="[PADDLE] An object of checkout parameters must be passed to Paddle.Checkout.open()",D=function(){function e(){this.options={pwCustomer:void 0,pwAuth:void 0,debug:!1,seller:0,token:void 0,eventCallback:void 0,checkout:{settings:{theme:n.LIGHT,displayMode:t.OVERLAY,allowLogout:!0}}}}return e.prototype.set=function(t){if("object"!=typeof t)throw new Error("[PADDLE] The Options() method accepts an object of options values.");for(var e in this.validateSeller(t.seller,t.token),t){if(!this.options.hasOwnProperty(e))throw new Error("[PADDLE] Unknown option parameter '"+e+"'");this.options[e]=t[e],I.log("Set option '"+e+"' to '"+t[e]+"'.")}},Object.defineProperty(e.prototype,"debug",{get:function(){return this.options.debug},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"eventCallback",{get:function(){return this.options.eventCallback},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seller",{get:function(){return this.options.seller},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"token",{get:function(){return this.options.token},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"theme",{get:function(){var t;return null===(t=this.options.checkout)||void 0===t?void 0:t.settings.theme},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"displayMode",{get:function(){var t;return null===(t=this.options.checkout)||void 0===t?void 0:t.settings.displayMode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"allowLogout",{get:function(){var t;return null===(t=this.options.checkout)||void 0===t?void 0:t.settings.allowLogout},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"locale",{get:function(){var t;return null===(t=this.options.checkout)||void 0===t?void 0:t.settings.locale},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"successUrl",{get:function(){var t;return null===(t=this.options.checkout)||void 0===t?void 0:t.settings.successUrl},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frameTarget",{get:function(){var t;return null===(t=this.options.checkout)||void 0===t?void 0:t.settings.frameTarget},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frameStyle",{get:function(){var t;return null===(t=this.options.checkout)||void 0===t?void 0:t.settings.frameStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frameInitialHeight",{get:function(){var t;return null===(t=this.options.checkout)||void 0===t?void 0:t.settings.frameInitialHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pwCustomer",{get:function(){return this.options.pwCustomer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pwAuth",{get:function(){return this.options.pwAuth},enumerable:!1,configurable:!0}),e.prototype.validateSeller=function(t,e){if(!C(t)&&!C(e))throw new Error("[PADDLE] The option parameter 'seller' or 'token' must have a value.");if(C(t)&&C(e))throw new Error("[PADDLE] The option parameter 'seller' or 'token' must have a value but not both.");if(!C(e)&&C(t)&&(t!==parseInt("".concat(t),10)||0===t))throw new Error("[PADDLE] The option parameter 'seller' must be an integer.");if(C(e)&&"string"!=typeof e&&!C(t))throw new Error("[PADDLE] The option parameter 'token' must be an string.");if(1234567===t)throw new Error("[PADDLE] You must specify a valid Paddle Seller ID for the 'seller' attribute within the Paddle.Setup() or Paddle.Options() method. The provided Vendor ID '1234567' is invalid and is used for example purposes. See: https://developer.paddle.com/guides/how-tos/checkout/paddle-checkout")},e}(),T=new D,I=new(function(){function t(){this.isEnabled=!0}return t.prototype.log=function(t,e,n){void 0===e&&(e=o.LOG),void 0===n&&(n=!1),window.console.debug=window.console.debug||window.console.log||function(){};var r="[Paddle Debug]"+t;T.debug&&(e===o.LOG?console.debug(r):e===o.WARNING&&console.warn(r)),n&&console.warn(t)},t}());function O(t){void 0===t&&(t=!1),P();var e=document.createElement("style");e.type="text/css",e.innerHTML="\t\t\t\t@-webkit-keyframes rotate {\t\t\t\t\t0% {\t\t\t\t\t\t-webkit-transform: rotate(45deg);\t\t\t\t\t}\t\t\t\t\t100% {\t\t\t\t\t\t-webkit-transform: rotate(405deg);\t\t\t\t\t}\t\t\t\t}\t\t\t\t@keyframes rotate {\t\t\t\t\tfrom {\t\t\t\t\t\ttransform: rotate(45deg);\t\t\t\t\t}\t\t\t\t\tto {\t\t\t\t\t\ttransform: rotate(405deg);\t\t\t\t\t}\t\t\t\t}",document.getElementsByTagName("head")[0].appendChild(e);var n=document.createElement("div");n.setAttribute("style","z-index:99998; display: block; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; right: 0px; bottom: 0px; margin: 0px; padding: 0px; background: rgba(0,0,0,0.38);"),n.setAttribute("class",u.PADDLE_LOADER);var o=document.createElement("main");o.setAttribute("style","align-items: center;display: flex;flex-direction: column;justify-content: center;left: 50%;margin: 0.5rem 0;position: absolute;text-align: center;top: 50%;transform: translate(-50%, -50%);width: 90%;");var r=document.createElement("div");if(r.setAttribute("style","border: 4px solid #f3f3f3;border-radius: 50%;border-top: 4px solid #ccc;width: 34px;height: 34px;-webkit-animation: rotate 1s ease-in-out infinite forwards;animation: rotate 1s ease-in-out infinite forwards;"),o.appendChild(r),n.appendChild(o),t)return function(t){var e=document.createElement("div");t&&e.appendChild(t.cloneNode(!0));var n=e.innerHTML;return e=t=null,n}(n);document.addEventListener("DOMContentLoaded",(function(){document.getElementsByTagName("body")[0].appendChild(n)}))}function P(){rt(u.PADDLE_LOADER,(function(t){var e;null===(e=null==t?void 0:t.parentNode)||void 0===e||e.removeChild(t)}))}function S(t){return"object"==typeof t&&t&&!Array.isArray(t)&&Object.keys(t).length>0}function C(t){return void 0!==t&&""!==t&&null!==t}function N(){var t,e=window.ApplePaySession;try{t=e&&e.canMakePayments()}catch(e){t=!1}return!!t}var k=Object.prototype.toString;function L(t){return"[object Array]"==k.call(t)}function R(t,e){if(!function(t){return t===Object(t)}(e)||function(t){return"[object Date]"==k.call(t)}(e)||function(t){return"[object RegExp]"==k.call(t)}(e)||function(t){return"[object Boolean]"==k.call(t)}(e)||function(t){return"function"==typeof t}(e))return e;var n,o=0,r=0;if(L(e))for(n=[],r=e.length;o<r;o++)n.push(R(t,e[o]));else for(var i in n={},e)Object.prototype.hasOwnProperty.call(e,i)&&(n[t(i)]=R(t,e[i]));return n}function x(t){return function(t){return t.split(/(?=[A-Z])/).join("_")}(t).toLowerCase()}function M(t){var e={};return window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,(function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var r=n[0],i=n[1];return e[r]=i,""})),e[t]?e[t].split("#")[0]:""}var j=function(t,e){var n=W.get();P(),ft({name:"checkout.failed",data:{event:"checkout.failed",checkoutData:e},error:{type:"front-end_error",code:"validation",detail:"Something went wrong. error code: E-403",documentation_url:"https://developer.paddle.com/errors"}}),t.src=v[n]},U=function(t,e,n){void 0!==window._hthck?0!==window._hthck?t.src=e:j(t,n):function(t,e,n){var o=0,r=setInterval((function(){if(void 0!==window._hthck||o>=100){if(clearInterval(r),0===window._hthck||o>=100)return void j(t,n);t.src=e}o++}),100)}(t,e,n)},B=function(t){return W.defaults().checkoutFrontEndBase+"/paddlejs/v2?payload="+encodeURIComponent((e=t,window.btoa(e)));var e},H=function(t,e){t["paddlejs-version"]=Y.libraryVersion,t.checkoutInitiated=(new Date).getTime();var n=B(JSON.stringify(R(x,t)));return(e?n+"&display_mode=inline":n)+"&apple_pay_enabled=".concat(N())};function F(t){var e="#!",n=[";","\b","\f","\n","\r","\t","\v","\0","\t","\r","\n"];if("string"!=typeof t)return e;var o=encodeURIComponent(t);if(!t.length||"javascript:"===t.substring(0,11).toLowerCase())return e;for(var r=0;r<n.length;r++)if(t.indexOf(n[r])>-1||o.indexOf(n[r])>-1)return e;return t}var G,q=function(){return q=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},q.apply(this,arguments)},V=function(){function t(){var t;this.env={current:e.PRODUCTION,defaults:(t={},t[e.LOCAL]=q({},y),t[e.DEVELOPMENT]=q({},w),t[e.SANDBOX]=q({},b),t[e.STAGING]=q({},_),t[e.PRODUCTION]=q({},A),t)}}return t.prototype.detect=function(){C(M(p.PADDLE_ENVIRONMENT))&&""!==M(p.PADDLE_ENVIRONMENT)?(I.log("Environment Detected: "+M(p.PADDLE_ENVIRONMENT)),this.set(M(p.PADDLE_ENVIRONMENT))):I.log("Environment Detected: "+this.get())},t.prototype.get=function(){return this.env.current},t.prototype.set=function(t){I.log("Changing environment to: "+t),this.env.current=t},t.prototype.defaults=function(){return this.env.defaults[this.env.current]},t}(),W=new V,Y=new(function(){function t(){this.data={libraryVersion:null,completedSetup:!1,loadedButtonStylesheet:!1}}return Object.defineProperty(t.prototype,"completedSetup",{get:function(){return this.data.completedSetup},set:function(t){this.data.completedSetup=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loadedButtonStylesheet",{get:function(){return this.data.loadedButtonStylesheet},set:function(t){this.data.loadedButtonStylesheet=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"libraryVersion",{get:function(){return this.data.libraryVersion},set:function(t){this.data.libraryVersion=t},enumerable:!1,configurable:!0}),t}());!function(t){t.CHECKOUT_CLOSE="checkout.closed",t.CHECKOUT_COMPLETE="checkout.completed",t.CHECKOUT_LOADED="checkout.loaded",t.CHECKOUT_PING_SIZE="checkout.ping.size",t.CHECKOUT_ITEMS_UPDATED="checkout.items.updated",t.CHECKOUT_UPDATED="checkout.updated",t.CHECKOUT_REMOVE_SPINNER="checkout.removespinner"}(G||(G={}));var K,z="transaction-action";!function(t){t.CLOSE="close",t.EVENT="event"}(K||(K={}));var J=function(t){return!(!t||!t.length)&&t.every((function(t){return t.priceId&&t.quantity}))},X=function(t){if("string"==typeof t)try{return JSON.parse(t)}catch(t){return I.log("The value set at `settings.allowedPaymentMethods` is not a valid array and it will be ignored.",o.WARNING,!0),[]}return t},Z=function(){return Z=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},Z.apply(this,arguments)},$="wide-overlay",Q=function(){function e(){}return e.prototype.open=function(e){var n,r,i,a;if(lt(),Y.completedSetup||I.log("You haven't called Paddle.Setup() - using Paddle.js without calling Paddle.Setup() is unsupported and may result in unexpected behaviour. See: https://developer.paddle.com/guides/how-tos/checkout/paddle-checkout",o.WARNING,!0),"object"!=typeof e)throw new Error(E);tt(e);var d=et(e);I.log("Creating checkout with attributes: "+JSON.stringify(d));var s={frameStyle:null===(n=d.settings)||void 0===n?void 0:n.frameStyle,frameInitialHeight:null===(r=d.settings)||void 0===r?void 0:r.frameInitialHeight,frameTarget:null===(i=d.settings)||void 0===i?void 0:i.frameTarget};"loading"!==document.readyState?ut(d,s,(null===(a=d.settings)||void 0===a?void 0:a.displayMode)===t.INLINE,e):document.addEventListener("DOMContentLoaded",(function(){var n;ut(d,s,(null===(n=d.settings)||void 0===n?void 0:n.displayMode)===t.INLINE,e)}))},e.prototype.close=function(){ft({name:G.CHECKOUT_CLOSE,data:{}}),lt()},e.prototype.updateItems=function(t){var e=document.getElementsByName("paddle_frame")[0].contentWindow;null==e||e.postMessage({action:z,eventName:G.CHECKOUT_ITEMS_UPDATED,callbackData:t},"*")},e.prototype.updateCheckout=function(t){if("object"!=typeof t)throw new Error(E);tt(t);var e=et(t);I.log("Updating checkout with attributes: "+JSON.stringify(e));var n=document.getElementsByName("paddle_frame")[0].contentWindow;null==n||n.postMessage({action:z,eventName:G.CHECKOUT_UPDATED,callbackData:t},"*")},e}(),tt=function(t){var e,n,o;try{if(null===(e=t.settings)||void 0===e?void 0:e.successUrl){var r=t.settings.successUrl;if(!new RegExp("^https?://","i").test(r))throw Error("The value for successUrl is not valid. Specify http(s)://example.com")}var i="string"==typeof t.items?JSON.parse(t.items):t.items,a=t.transactionId,d=t.customer;if(C(a)&&L(i)&&i.length>0)throw new Error("Either specify transaction ID or items but not both.");if(C(t.discountId)&&C(t.discountCode))throw new Error("Either specify discount id or discount code but not both.");if(d&&S(d)&&!C(null==d?void 0:d.id)&&!C(null==d?void 0:d.email))throw Error("customer ID or email is required");if(d&&S(d)&&C(null==d?void 0:d.id)&&C(null==d?void 0:d.email))throw Error("Either specify customer ID only or customer details(email,marketingConsent,etc) but not both.");if(d&&d.address&&S(d)&&S(d.address)&&C(null===(n=d.address)||void 0===n?void 0:n.id)&&Object.keys(d.address).length>1)throw Error("Either specify customer address ID only or address details(postalCode,countryCode) but not both.");if(d&&d.business&&S(d)&&S(d.business)&&C(null===(o=d.business)||void 0===o?void 0:o.id)&&Object.keys(d.business).length>1)throw Error("Either specify customer business ID only or business details(name,taxIdentifier) but not both.")}catch(t){throw new Error("".concat("Checkout input failed validation : ").concat(t))}},et=function(e){var r,i,a,d,s,c,l,u,p,m,f,h,v,g,y,w,_,b,A,E,D,O,P,k=Z(Z(Z(Z(Z(Z({},C(e.discountId)&&{discountId:e.discountId}),C(e.discountCode)&&{discountCode:e.discountCode}),C(e.transactionId)&&{transactionId:e.transactionId}),C(e.customer)&&{customer:e.customer}),C(e.settings)&&{settings:Z(Z(Z(Z(Z(Z(Z(Z(Z(Z(Z({},e.settings),((null===(r=e.settings)||void 0===r?void 0:r.successUrl)||T.successUrl)&&{successUrl:F((null===(i=e.settings)||void 0===i?void 0:i.successUrl)||T.successUrl)}),((null===(a=e.settings)||void 0===a?void 0:a.locale)||T.locale)&&{locale:(null===(d=e.settings)||void 0===d?void 0:d.locale)||T.locale}),((null===(s=e.settings)||void 0===s?void 0:s.frameTarget)||T.frameTarget)&&{frameTarget:(null===(c=e.settings)||void 0===c?void 0:c.frameTarget)||T.frameTarget}),((null===(l=e.settings)||void 0===l?void 0:l.frameStyle)||T.frameStyle)&&{frameStyle:(null===(u=e.settings)||void 0===u?void 0:u.frameStyle)||T.frameStyle}),((null===(p=e.settings)||void 0===p?void 0:p.frameInitialHeight)||T.frameInitialHeight)&&{frameInitialHeight:(null===(m=e.settings)||void 0===m?void 0:m.frameInitialHeight)||T.frameInitialHeight}),{theme:(null===(f=e.settings)||void 0===f?void 0:f.theme)||T.theme||n.LIGHT,allowLogout:null===(g=null!==(v=null===(h=e.settings)||void 0===h?void 0:h.allowLogout)&&void 0!==v?v:T.allowLogout)||void 0===g||g}),C(null===(y=e.settings)||void 0===y?void 0:y.showAddDiscounts)?{showAddDiscounts:null===(w=e.settings)||void 0===w?void 0:w.showAddDiscounts}:{}),C(null===(_=e.settings)||void 0===_?void 0:_.showAddTaxId)?{showAddTaxId:null===(b=e.settings)||void 0===b?void 0:b.showAddTaxId}:{}),{displayMode:(null!==(E=null===(A=e.settings)||void 0===A?void 0:A.displayMode)&&void 0!==E?E:T.displayMode)===t.INLINE?t.INLINE:$,sourcePage:window.location.href}),(null===(D=e.settings)||void 0===D?void 0:D.allowedPaymentMethods)?{allowedPaymentMethods:null!==(P=X(null===(O=e.settings)||void 0===O?void 0:O.allowedPaymentMethods))&&void 0!==P?P:[]}:{})}),!C(e.settings)&&{settings:Z(Z(Z(Z(Z(Z({theme:T.theme||n.LIGHT,allowLogout:T.allowLogout||!0,displayMode:T.displayMode===t.INLINE?t.INLINE:$},T.locale&&{locale:T.locale}),T.successUrl&&{successUrl:F(T.successUrl)}),T.frameTarget&&{frameTarget:T.frameTarget}),T.frameStyle&&{frameStyle:T.frameStyle}),T.frameInitialHeight&&{frameInitialHeight:T.frameInitialHeight}),{sourcePage:window.location.href})});if(C(e.customData))try{var R="string"==typeof e.customData?JSON.parse(e.customData):e.customData;if(!S(R))throw new Error("Invalid custom data");k.customData=JSON.stringify(R)}catch(t){I.log("The value set at customData is not a valid object and it will be ignored.",o.WARNING,!0)}if(C(e.items))try{var x="string"==typeof e.items?JSON.parse(e.items):e.items;if(!L(x))throw new Error("Invalid items array");k.items=x.map((function(t){return t.quantity?t:Z(Z({},t),{quantity:1})}))}catch(t){I.log("The value set at items is not a valid array and it will be ignored.",o.WARNING,!0)}return T.seller&&(k.sellerId=T.seller),T.token&&(k.clientToken=T.token),k.applePayEnabled=N(),k},nt=new Q,ot=function(){return ot=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},ot.apply(this,arguments)};function rt(t,e){for(var n=document.getElementsByClassName(t),o=0;o<n.length;o++){var r=n[o];if("function"!=typeof e)throw new Error("each(className, function() {... requires the callback argument to be of type Function");e(r)}}function it(t,e){return t.classList?t.classList.contains(e):!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function at(t,e){t.classList?t.classList.add(e):it(t,e)||(t.className+=" "+e)}function dt(t){var e=t.getAttribute(m.DATA_DISCOUNT_ID),n=t.getAttribute(m.DATA_DISCOUNT_CODE),o=t.getAttribute(m.DATA_TRANSACTION_ID),r=t.getAttribute(m.DATA_ITEMS),i=t.getAttribute(m.DATA_CUSTOM_DATA),a=t.getAttribute(m.DATA_CUSTOMER_ID),d=t.getAttribute(m.DATA_CUSTOMER_EMAIL),s=t.getAttribute(m.DATA_BUSINESS_NAME),c=t.getAttribute(m.DATA_BUSINESS_ID),l=t.getAttribute(m.DATA_BUSINESS_TAX_ID),u=t.getAttribute(m.DATA_CUSTOMER_ADDRESS_FIRST_LINE),p=t.getAttribute(m.DATA_CUSTOMER_ADDRESS_CITY),f=t.getAttribute(m.DATA_CUSTOMER_ADDRESS_REGION),h=t.getAttribute(m.DATA_CUSTOMER_ADDRESS_ID),v=t.getAttribute(m.DATA_CUSTOMER_ADDRESS_COUNTRY_CODE),g=t.getAttribute(m.DATA_CUSTOMER_ADDRESS_POSTAL_CODE),y=t.getAttribute(m.DATA_LOCALE),w=t.getAttribute(m.DATA_DISPLAY_MODE),_=t.getAttribute(m.DATA_THEME),b=t.getAttribute(m.DATA_SUCCESS_URL),A=t.getAttribute(m.DATA_ALLOW_LOGOUT),E=t.getAttribute(m.DATA_SHOW_ADD_DISCOUNTS),D=t.getAttribute(m.DATA_SHOW_ADD_TAX_ID),T=t.getAttribute(m.DATA_ALLOWED_PAYMENT_METHODS),I=ot(ot(ot(ot(ot({},e&&{discountId:e}),n&&{discountCode:n}),o&&{transactionId:o}),i&&{customData:i}),r&&{items:r});return(a||d)&&(I.customer=ot(ot({},a&&{id:a}),d&&{email:d})),(h||g||v||u||p||f)&&(I.customer=I.customer||{},I.customer&&(I.customer.address=ot(ot(ot(ot(ot(ot({},h&&{id:h}),g&&{postalCode:g}),v&&{countryCode:v}),u&&{firstLine:u}),p&&{city:p}),f&&{region:f}))),(c||s||l)&&(I.customer=I.customer||{},I.customer&&(I.customer.business=ot(ot(ot({},c&&{id:c}),s&&{name:s}),l&&{taxIdentifier:l}))),(y||w||_||b||A||E||D)&&(I.settings=ot(ot(ot(ot(ot(ot(ot(ot({},y&&{locale:y}),_&&{theme:_}),w&&{displayMode:w}),b&&{successUrl:b}),A&&{allowLogout:"true"===A}),E&&{showAddDiscounts:"true"===E}),D&&{showAddTaxID:"true"===D}),T&&{allowedPaymentMethods:T})),I}var st=function(){var t=0;rt("paddle_button",(function(e){var r,i;if("true"===e.getAttribute(m.DATA_INIT)){var a=e.cloneNode(!0);null===(r=e.parentNode)||void 0===r||r.replaceChild(a,e),e=a}var d=dt(e);!function(t,e){"none"!==e&&(at(t,u.PADDLE_STYLED_BUTTON),e===n.GREEN?at(t,u.GREEN):e===n.LIGHT?at(t,u.LIGHT):e===n.DARK&&at(t,u.DARK))}(e,null===(i=null==d?void 0:d.settings)||void 0===i?void 0:i.theme),e.setAttribute(m.DATA_INIT,"true"),e.addEventListener("click",(function(t){t.preventDefault();var n=dt(e);nt.open(n)})),t++,d.transactionId?I.log("Loaded and initiated checkout button for Transaction ID: "+d.transactionId+" (Paddle Button #"+t+")"):d.items?I.log("Loaded and initiated checkout button for items: "+JSON.stringify(d.items)+" (Paddle Button #"+t+")"):I.log("Initiated a checkout button without an override URL or Price ID. (Paddle Button #"+t+")",o.WARNING)}))},ct=function(){var t,e,n={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},o={isReady:!1,readyWait:1,holdReady:function(t){t?o.readyWait++:o.ready(!0)},ready:function(e){if(void 0===e&&(e=!1),!0===e&&!--o.readyWait||!0!==e&&!o.isReady){if(!document.body)return void setTimeout(o.ready,1);if(o.isReady=!0,!0!==e&&--o.readyWait>0)return;t.resolveWith(document,[o])}else;},bindReady:function(){if(!t){if(t=o._Deferred(),"complete"===document.readyState)return setTimeout(o.ready,1);if(document.addEventListener)document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",o.ready,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",e)(document).attachEvent("onload",o.ready);var n=!1;try{n=null==window.frameElement}catch(t){}document.documentElement.doScroll&&n&&r()}}},_Deferred:function(){var t,e,n,r=[],i={done:function(){if(!n){var e,a=arguments,d=void 0,s=void 0,c=void 0,l=void 0;for(t&&(l=t,t=0),d=0,e=a.length;d<e;d++)s=a[d],"array"===(c=o.type(s))?i.done.apply(i,s):"function"===c&&r.push(s);l&&i.resolveWith(l[0],l[1])}return this},resolveWith:function(o,i){if(!n&&!t&&!e){i=i||[],e=1;try{for(;r[0];)r.shift().apply(o,i)}finally{t=[o,i],e=0}}return this},resolve:function(){return i.resolveWith(this,arguments),this},isResolved:function(){return!(!e&&!t)},cancel:function(){return n=1,r=[],this}};return i},type:function(t){return null==t?String(t):n[Object.prototype.toString.call(t)]||"object"}};function r(){if(!o.isReady){try{document.documentElement.doScroll("left")}catch(t){return void setTimeout(r,1)}o.ready()}}return document.addEventListener?e=function(){document.removeEventListener("DOMContentLoaded",e,!1),o.ready()}:document.attachEvent&&(e=function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",e),o.ready())}),function(e){o.bindReady(),o.type(e),t.done(e)}}();var lt=function(){I.log("Checkout frame/window has been closed."),P(),rt(u.PADDLE_FRAME,(function(t){var e;null===(e=t.parentNode)||void 0===e||e.removeChild(t)})),void 0===window.PaddleWindow||window.PaddleWindow.closed||window.PaddleWindow.close()},ut=function(t,e,n,o){var r,i,a=H(t,n);if(n||O(),window.PaddleFrame=document.createElement("iframe"),window.PaddleFrame.className=u.PADDLE_FRAME,window.PaddleFrame.name="paddle_frame",window.PaddleFrame.frameBorder="0",window.PaddleFrame.allowTransparency="true",window.PaddleFrame.allow="payment",n){window.PaddleFrame.classList.add(u.PADDLE_FRAME_INLINE);var d=document.createElement("style");d.type="text/css",d.innerHTML=".".concat(u.PADDLE_FRAME_INLINE,"::-webkit-scrollbar { display: none !important; }"),document.getElementsByTagName("head")[0].appendChild(d)}else window.PaddleFrame.classList.add(u.PADDLE_FRAME_OVERLAY);C(e.frameStyle)&&n?window.PaddleFrame.setAttribute("style","".concat(null==e?void 0:e.frameStyle)):(i=!1,r=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(r)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(r.substr(0,4)))&&(i=!0),i?window.PaddleFrame.setAttribute("style","z-index: 99999; display: block; background-color: transparent; border: 0px none transparent; overflow-x: hidden; overflow-y: scroll; visibility: visible; margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; position: fixed; left: 0px; top: 0px; width: 100%; height: 100%;"):window.PaddleFrame.setAttribute("style","z-index: 99999; display: block; background-color: transparent; border: 0px none transparent; overflow-x: hidden; overflow-y: auto; visibility: visible; margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; position: fixed; left: 0px; top: 0px; width: 100%; height: 100%;")),C(e.frameInitialHeight)&&n&&window.PaddleFrame.setAttribute("height","".concat(null==e?void 0:e.frameInitialHeight,"px")),U(window.PaddleFrame,a,o),C(e.frameTarget)&&n?document.getElementsByClassName("".concat(e.frameTarget))[0].appendChild(window.PaddleFrame):document.getElementsByTagName("body")[0].appendChild(window.PaddleFrame)},pt=function(){return pt=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},pt.apply(this,arguments)},mt=function(t){if(e=t.origin,/^https:\/\/[a-zA-Z0-9-_]+\.paddle\.(?:com|dev|local)$/g.test(e)){var e,n=t.data;if(n.action===K.EVENT||n.action===K.CLOSE)switch(ft(pt({},n.callback_data)),n.event_name.toLowerCase()){case G.CHECKOUT_CLOSE:lt();break;case G.CHECKOUT_REMOVE_SPINNER:P();break;case G.CHECKOUT_PING_SIZE:!function(t){if(t.callback_data&&""!==t.callback_data.height){var e=document.getElementsByClassName(u.PADDLE_FRAME_INLINE);if(e.length>0){var n=parseInt(t.callback_data.height)+45;e[0].setAttribute("height","".concat(n))}}}(n)}}};function ft(t){"function"==typeof T.eventCallback&&T.eventCallback(t)}var ht=function(){return ht=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},ht.apply(this,arguments)},vt=function(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))};function gt(){var t=T.pwAuth;if(null!=t){window.profitwell=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window.profitwell.q=window.profitwell.q||[],window.profitwell.q.push(t)},window.profitwell("start",ht({auth_token:t},function(){var t=T.pwCustomer;if(t&&C(t.id))return{user_id:t.id};if(t&&C(t.email))return{user_email:t.email};return null}()));var e=document.createElement("script");e.src=function(t){return W.defaults().profitwellSnippetBase+"?auth="+t}(t),document.getElementsByTagName("head")[0].appendChild(e)}}function yt(t){window.profitwell.apply(window,vt(["cq_demo"],function(t){switch(t){case r.CANCELLATION_FLOW:return["cancellation_flow"];case r.PAYMENT_RECOVERY:return["dunning"];case r.PAYMENT_RECOVERY_IN_APP:return["in_app"];case r.TERM_OPTIMIZATION:return["plan_upgrade"];case r.TERM_OPTIMIZATION_IN_APP:return["plan_upgrade","notification"];default:throw new Error("Unsupported Retain demo feature")}}(t),!1))}function wt(t){return{price_id:t.priceId,quantity:t.quantity}}function _t(t){return t.address?{country_code:t.address.countryCode,postal_code:t.address.postalCode}:void 0}function bt(t){return{countryCodes:t.country_codes,unitPrice:{amount:t.unit_price.amount,currencyCode:t.unit_price.currency_code}}}function At(t){var e;return{id:t.id,name:t.name,description:t.description,taxCategory:t.tax_category,imageUrl:t.image_url,customData:t.custom_data,status:t.status,createdAt:t.created_at,importMeta:t.import_meta?{externalId:null!==(e=t.import_meta.external_id)&&void 0!==e?e:null,importedFrom:t.import_meta.imported_from}:null}}function Et(t){return{amount:t.discount.amount,currencyCode:t.discount.currency_code,description:t.discount.description,id:t.discount.id,type:t.discount.type,code:t.discount.code,createdAt:t.discount.created_at,enabledForCheckout:t.discount.enabled_for_checkout,expiresAt:t.discount.expires_at,maximumRecurringIntervals:t.discount.maximum_recurring_intervals,recur:t.discount.recur,restrictTo:t.discount.restrict_to,status:t.discount.status,timesUsed:t.discount.times_used,updatedAt:t.discount.updated_at,usageLimit:t.discount.usage_limit}}function Dt(t){return{discount:Et(t),total:t.total,formattedTotal:t.formatted_total}}function Tt(t){var e,n,o;return{id:t.id,name:null!==(e=t.name)&&void 0!==e?e:null,description:t.description,customData:t.custom_data,status:t.status,billingCycle:t.billing_cycle,productId:t.product_id,quantity:t.quantity,taxMode:t.tax_mode,trialPeriod:t.trial_period,unitPrice:{amount:t.unit_price.amount,currencyCode:t.unit_price.currency_code},unitPriceOverrides:null===(n=t.unit_price_overrides)||void 0===n?void 0:n.map(bt),importMeta:t.import_meta?{externalId:null!==(o=t.import_meta.external_id)&&void 0!==o?o:null,importedFrom:t.import_meta.imported_from}:null}}function It(t){var e;return{price:Tt(t.price),quantity:t.quantity,taxRate:t.tax_rate,unitTotals:t.unit_totals,formattedUnitTotals:t.formatted_unit_totals,totals:t.totals,formattedTotals:t.formatted_totals,product:At(t.product),discounts:null===(e=t.discounts)||void 0===e?void 0:e.map(Dt)}}function Ot(t){return t?{countryCode:t.country_code,postalCode:t.postal_code}:null}function Pt(t){var e=new Headers;return e.append("Content-Type","application/json"),e.append("Accept","application/json"),e.append("Paddle-Clienttoken",t),e}var St=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function a(t){try{s(o.next(t))}catch(t){i(t)}}function d(t){try{s(o.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,d)}s((o=o.apply(t,e||[])).next())}))},Ct=function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:d(0),throw:d(1),return:d(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function d(d){return function(s){return function(d){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,d[0]&&(a=0)),a;)try{if(n=1,o&&(r=2&d[0]?o.return:d[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,d[1])).done)return r;switch(o=0,r&&(d=[2&d[0],r.value]),d[0]){case 0:case 1:r=d;break;case 4:return a.label++,{value:d[1],done:!1};case 5:a.label++,o=d[1],d=[0];continue;case 7:d=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==d[0]&&2!==d[0])){a=0;continue}if(3===d[0]&&(!r||d[1]>r[0]&&d[1]<r[3])){a.label=d[1];break}if(6===d[0]&&a.label<r[1]){a.label=r[1],r=d;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(d);break}r[2]&&a.ops.pop(),a.trys.pop();continue}d=e.call(t,a)}catch(t){d=[6,t],o=0}finally{n=r=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}([d,s])}}},Nt=function(t){return St(void 0,void 0,void 0,(function(){var e,n,o,r,i,a,d;return Ct(this,(function(s){switch(s.label){case 0:if(!T.token)throw new Error("[PADDLE] token is required to use Paddle.PricePreview()");if(!S(t)||!J(t.items))throw new Error("[PADDLE] At least 1 item with priceId and quantity is required to use Paddle.PricePreview()");e={items:(c=t).items.map(wt),customer_id:c.customerId,address_id:c.addressId,business_id:c.businessId,currency_code:c.currencyCode,discount_id:c.discountId,address:_t(c),customer_ip_address:c.customerIpAddress},n=JSON.stringify(e),o={method:"POST",headers:Pt(T.token),body:n},s.label=1;case 1:return s.trys.push([1,3,,4]),a=W.defaults().apiBase,[4,fetch("".concat(a,"/pricing-preview"),o)];case 2:return r=s.sent(),[3,4];case 3:return s.sent(),[2,Promise.reject({name:"PricePreview.failed",data:{},error:{type:"network_error",code:"network_error",detail:"Network error encountered when calling Paddle.PricePreview."}})];case 4:return s.trys.push([4,6,,7]),[4,r.json()];case 5:return i=s.sent(),[3,7];case 6:return s.sent(),[2,Promise.reject({name:"PricePreview.failed",data:{},error:{type:"api_error",code:"".concat(r.status),detail:"Something went wrong when calling Paddle.PricePreview."}})];case 7:return r.ok?(d=function(t){var e;return{data:{customerId:t.data.customer_id,addressId:t.data.address_id,businessId:t.data.business_id,currencyCode:t.data.currency_code,address:Ot(t.data.address),customerIpAddress:t.data.customer_ip_address,discountId:t.data.discount_id,details:{lineItems:null===(e=t.data.details.line_items)||void 0===e?void 0:e.map(It)},availablePaymentMethods:t.data.available_payment_methods},meta:{requestId:t.meta.request_id}}}(i),[2,Promise.resolve(d)]):[2,Promise.reject(i)]}var c}))}))},kt=new(function(){function t(){}return t.prototype.demo=function(t){if(!C(T.pwAuth))throw new Error("[PADDLE] pwAuth token is required to use Paddle.Retain.demo()");yt(t.feature)},t.prototype.initCancellationFlow=function(t){if(!C(T.pwAuth))throw new Error("[PADDLE] pwAuth token is required to use Paddle.Retain.initCancellationFlow()");if(!C(T.pwCustomer))throw new Error("[PADDLE] pwCustomer id or email required to use Paddle.Retain.initCancellationFlow()");return C(e=null==t?void 0:t.subscriptionId)?window.profitwell("init_cancellation_flow",{subscription_id:e}):window.profitwell("init_cancellation_flow");var e},t}());function Lt(t){return{price_id:t.priceId,quantity:t.quantity,include_in_totals:t.includeInTotals}}function Rt(t){return t.address?{country_code:t.address.countryCode,postal_code:t.address.postalCode}:void 0}function xt(t){return{taxRate:t.tax_rate,totals:t.totals}}function Mt(t){return{priceId:t.price_id,quantity:t.quantity,taxRate:t.tax_rate,unitTotals:t.unit_totals,totals:t.totals,product:At(t.product)}}function jt(t){return{price:Tt(t.price),quantity:t.quantity,includeInTotals:t.include_in_totals,proration:t.proration?{rate:t.proration.rate,billingPeriod:{startsAt:t.proration.billing_period.starts_at,endsAt:t.proration.billing_period.ends_at}}:null}}var Ut=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function a(t){try{s(o.next(t))}catch(t){i(t)}}function d(t){try{s(o.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,d)}s((o=o.apply(t,e||[])).next())}))},Bt=function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:d(0),throw:d(1),return:d(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function d(d){return function(s){return function(d){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,d[0]&&(a=0)),a;)try{if(n=1,o&&(r=2&d[0]?o.return:d[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,d[1])).done)return r;switch(o=0,r&&(d=[2&d[0],r.value]),d[0]){case 0:case 1:r=d;break;case 4:return a.label++,{value:d[1],done:!1};case 5:a.label++,o=d[1],d=[0];continue;case 7:d=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==d[0]&&2!==d[0])){a=0;continue}if(3===d[0]&&(!r||d[1]>r[0]&&d[1]<r[3])){a.label=d[1];break}if(6===d[0]&&a.label<r[1]){a.label=r[1],r=d;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(d);break}r[2]&&a.ops.pop(),a.trys.pop();continue}d=e.call(t,a)}catch(t){d=[6,t],o=0}finally{n=r=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}([d,s])}}};function Ht(t){return Ut(this,void 0,void 0,(function(){var e,n,o,r,i,a,d;return Bt(this,(function(s){switch(s.label){case 0:if(!T.token)throw new Error("[PADDLE] token is required to use Paddle.TransactionPreview()");if(!S(t)||!J(t.items))throw new Error("[PADDLE] At least 1 item with priceId and quantity is required to use Paddle.TransactionPreview()");e={items:(c=t).items.map(Lt),customer_id:c.customerId,address_id:c.addressId,business_id:c.businessId,currency_code:c.currencyCode,discount_id:c.discountId,address:Rt(c),customer_ip_address:c.customerIpAddress,ignore_trials:c.ignoreTrials},n=JSON.stringify(e),o={method:"POST",headers:Pt(T.token),body:n},s.label=1;case 1:return s.trys.push([1,3,,4]),a=W.defaults().apiBase,[4,fetch("".concat(a,"/transactions/preview"),o)];case 2:return r=s.sent(),[3,4];case 3:return s.sent(),[2,Promise.reject({name:"TransactionPreview.failed",data:{},error:{type:"network_error",code:"network_error",detail:"Network error encountered when calling Paddle.TransactionPreview."}})];case 4:return s.trys.push([4,6,,7]),[4,r.json()];case 5:return i=s.sent(),[3,7];case 6:return s.sent(),[2,Promise.reject({name:"TransactionPreview.failed",data:{},error:{type:"api_error",code:"".concat(r.status),detail:"Something went wrong when calling Paddle.TransactionPreview."}})];case 7:return r.ok?(d=function(t){return{data:{customerId:t.data.customer_id,addressId:t.data.address_id,businessId:t.data.business_id,currencyCode:t.data.currency_code,discountId:t.data.discount_id,customerIpAddress:t.data.customer_ip_address,address:Ot(t.data.address),ignoreTrials:t.data.ignore_trials,details:{taxRatesUsed:t.data.details.tax_rates_used.map(xt),totals:(e=t.data.details.totals,{subtotal:e.subtotal,discount:e.discount,tax:e.tax,total:e.total,credit:e.credit,balance:e.balance,grandTotal:e.grand_total,fee:e.fee,earnings:e.earnings,currencyCode:e.currency_code}),lineItems:t.data.details.line_items.map(Mt)},items:t.data.items.map(jt),availablePaymentMethods:t.data.available_payment_methods},meta:{requestId:t.meta.request_id}};var e}(i),[2,Promise.resolve(d)]):[2,Promise.reject(i)]}var c}))}))}var Ft=new(function(){function t(t){var e,n;Y.libraryVersion=t,this.Status={libraryVersion:t},e=W.get(),(n=document.createElement("img")).onerror=function(){window._hthck=0},n.onload=function(){window._hthck=1},n.src=g(e).HEALTH_CHECK_GIF+"?_=".concat(Date.now()),this.Checkout={open:function(t){return nt.open(t)},close:function(){return nt.close()},updateCheckout:function(t){return nt.updateCheckout(t)},updateItems:function(t){return nt.updateItems(t)}},this.Retain={demo:function(t){return kt.demo(t)},initCancellationFlow:function(t){return kt.initCancellationFlow(t)}},this.Environment={detect:function(){return W.detect()},get:function(){return W.get()},set:function(t){return W.set(t)}},this.PricePreview=Nt,this.TransactionPreview=Ht,this.Spinner={show:O,hide:P},this.Status={libraryVersion:Y.libraryVersion}}return t.prototype.Options=function(t){T.set(t)},t.prototype.Setup=function(t){if(Y.completedSetup)I.log("Cannot call Paddle.Setup() more than once per page, the call was ignored.",o.WARNING);else{if(function(){var t=W.get();if(!Y.loadedButtonStylesheet){var e=document.getElementsByTagName("head")[0],n=document.createElement("link");n.rel="stylesheet",n.type="text/css",n.href=g(t).PADDLE_CSS_FILE,n.media="all",e.appendChild(n),Y.loadedButtonStylesheet=!0}}(),ct(st),Y.completedSetup=!0,I.log("Completed library setup."),window.addEventListener("message",mt,!1),W.detect(),!C(t.seller)&&!C(t.token))throw new Error("[PADDLE] You must specify your Paddle Seller ID or token within the Paddle.Setup() method. See: https://developer.paddle.com/guides/how-tos/checkout/paddle-checkout");T.set(t),function(t){if(void 0===t&&(t=!1),C(M(p.PADDLE_TRANSACTION))){O();var e=M(p.PADDLE_TRANSACTION);t&&nt.open({transactionId:e})}}(C(T.seller)||C(T.token)),gt()}},t}())("2.0.26");return l=l.default}()}));